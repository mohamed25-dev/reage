{"version":3,"sources":["translations/index.js","components/RTL.js","theme.js","Auth.js","AppRoute.js","components/TextInupt.js","components/TextField.js","components/NoPost.js","components/Post.js","components/AlertDialog.js","components/Paginate.js","layouts/partials/Footer.js","layouts/partials/Header.js","layouts/Main.js","layouts/Auth.js","screens/Login.js","screens/Home.js","screens/Register.js","screens/Profile.js","screens/AddPost.js","screens/MyPosts.js","hooks/postsHooks.js","screens/ViewPost.js","screens/EditPost.js","App.js","reportWebVitals.js","index.js"],"names":["ar","cacheRtl","createCache","key","stylisPlugins","rtlPlugin","RTL","props","value","children","theme","createTheme","direction","typography","palette","primary","teal","secondary","red","Auth","login","user","localStorage","setItem","JSON","stringify","axios","defaults","headers","common","token","init","parse","getItem","auth","guest","logout","removeItem","getToken","getUser","setUser","updatedUser","AppRoute","Component","component","can","redirect","rest","render","to","TextInput","name","label","onChange","variant","formatMessage","useIntl","TextField","sx","marginY","fullWidth","id","defaultMessage","e","target","NoPost","message","Box","style","alignItems","margin","Typography","Button","color","Link","endIcon","Add","Post","image","title","body","postId","numberofLikes","Card","textDecoration","CardHeader","CardMedia","src","process","srcSet","alt","loading","height","width","CardContent","substr","AlertDialog","open","handleClose","handleAgree","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","onClick","autoFocus","Pages","count","page","useHistory","display","justifyContent","p","Pagination","useStyles","makeStyles","footer","marginTop","borderTop","backgroundColor","padding","Footer","classes","className","Container","maxWidth","align","href","flexGrow","cursor","textAlign","button","marginLeft","Header","AppBar","position","background","marginBottom","Toolbar","UserMenu","GuestMenu","useState","menu","setMenu","handleLogout","a","window","location","reload","IconButton","event","currentTarget","Avatar","charAt","Menu","anchorEl","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","Boolean","MenuItem","root","flexDirection","minHeight","spacing","continer","backdrop","zIndex","drawer","main","content","borderBottom","Main","Backdrop","CircularProgress","Divider","paper","CssBaseline","Paper","mt","avatar","form","Login","email","setEmail","password","setPassword","setLoading","hasError","setHasError","onSubmit","preventDefault","post","result","data","history","push","console","log","LockOutlined","Alert","severity","required","type","autoComplete","disabled","NoAccount","Home","posts","setPosts","setPage","postsCount","setPostsCount","loadPage","get","useEffect","search","params","URLSearchParams","parseInt","length","Fab","bottom","left","Grid","container","columnSpacing","rowSpacing","map","item","xs","md","lg","_id","img","setName","confirmPassword","setConfirmPassword","errors","setErrors","response","passHref","paddingTop","alert","updateProfile","patch","sleep","updatePassword","newPassword","time","Promise","resolve","reject","setTimeout","Profile","profileData","setProfileData","passwordData","setPasswordData","profile","error","setError","onSubmitProfile","onSubmitPassword","imageInput","imagePreview","setTitle","setBody","file","setFile","setImage","formData","FormData","append","multiline","rows","htmlFor","Input","accept","URL","createObjectURL","files","PhotoCamera","fontSize","postsHooks","getPosts","status","getPost","updatePost","deletePost","delete","likePost","EditPost","match","editUrl","postHooks","numberOfLikes","setNumberOfLikes","userId","setUserId","liked","setLiked","setOpen","handleLikeClick","handleDeleteClick","handleClickOpen","CardActions","Edit","pink","Delete","ThumbUp","ThumbUpOutlined","App","exact","path","AddPost","ViewPost","MyPosts","Register","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","ThemeProvider","locale","messages","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7bc49dc2.chunk.js","sourcesContent":["import ar from './ar.json'\r\n\r\nexport default {\r\n  ar\r\n}","import rtlPlugin from 'stylis-plugin-rtl';\r\nimport { CacheProvider } from '@emotion/react';\r\nimport createCache from '@emotion/cache';\r\n\r\n// Create rtl cache\r\nconst cacheRtl = createCache({\r\n  key: 'muirtl',\r\n  stylisPlugins: [rtlPlugin],\r\n});\r\n\r\nexport default function RTL(props) {\r\n  return <CacheProvider value={cacheRtl}>{props.children}</CacheProvider>;\r\n}\r\n","import { createTheme } from '@mui/material/styles';\r\nimport { teal, red } from '@mui/material/colors';\r\n\r\n\r\nconst theme = createTheme({\r\n  direction: 'rtl',\r\n  typography: {\r\n    \"fontSize\": 14,\r\n    \"fontWeightLight\": 300,\r\n    \"fontWeightRegular\": 400,\r\n    \"fontWeightMedium\": 500\r\n  },\r\n  palette: {\r\n    primary: teal,\r\n    secondary: red,\r\n  },\r\n});\r\n\r\nexport default theme;","import axios from \"axios\";\r\n\r\nconst Auth = {\r\n  login: user => {\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + user.token;\r\n  },\r\n\r\n  init: () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    axios.defaults.headers.common['Authorization'] = user ? 'Bearer ' + user.token : '';\r\n  },\r\n\r\n  auth: () => {\r\n    return JSON.parse(localStorage.getItem('user'));\r\n  },\r\n\r\n  guest: () => {\r\n    return localStorage.getItem('user') === null || localStorage.getItem('user') === 'undefined';\r\n  },\r\n\r\n  logout: () => {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('user');\r\n    return;\r\n  },\r\n\r\n  getToken: () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    return user ? user.token : '';\r\n  },\r\n\r\n  getUser: () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    return user;\r\n  },\r\n\r\n  setUser: (updatedUser) => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    updatedUser.token = user.token;\r\n\r\n    localStorage.setItem('user', JSON.stringify(updatedUser));\r\n  }\r\n}\r\n\r\nexport default Auth;","import {Route, Redirect} from 'react-router-dom';\r\n\r\nconst AppRoute = ({component: Component, can = () => true, redirect, ...rest}) => {\r\n  return (\r\n    <Route {...rest} render = {(props) => {\r\n      return (\r\n        can() ? <Component {...props} /> : <Redirect to={redirect} />\r\n      );\r\n    }} />\r\n  );\r\n}\r\n\r\nexport default AppRoute;","import React from 'react';\r\nimport { useIntl } from 'react-intl';\r\nimport TextField from '@mui/material/TextField';\r\n\r\n\r\nexport default function TextInput({ name, label, onChange, variant, value, ...props }) {\r\n  const { formatMessage } = useIntl();\r\n\r\n  return (\r\n    <TextField\r\n      sx={{ marginY: 2 }}\r\n      variant={variant}\r\n      fullWidth\r\n      name={name}\r\n      value={value}\r\n      label={formatMessage({\r\n        id: label,\r\n        defaultMessage: label\r\n      })}\r\n      onChange={e => onChange(e.target.value)}\r\n      {...props}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport { useIntl } from 'react-intl';\r\n\r\nimport { TextField } from '@mui/material';\r\n\r\nexport default function TextInput({ name, label, onChange, value, ...props }) {\r\n  const { formatMessage } = useIntl();\r\n\r\n  return (\r\n    <TextField\r\n      sx={{ marginY: 2 }}\r\n      fullWidth\r\n      name={name}\r\n      label={formatMessage({\r\n        id: label,\r\n        defaultMessage: label\r\n      })}\r\n      value={value}\r\n      onChange={e => onChange(e.target.value)}\r\n      {...props}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Box, Button, Typography } from '@mui/material';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Add } from '@mui/icons-material';\r\n\r\nexport default function NoPost({message}) {\r\n  return (\r\n    <Box style={{ alignItems: 'center', margin: 32 }}>\r\n      <Typography variant='h5'>\r\n        <FormattedMessage id={message} />\r\n      </Typography>\r\n\r\n      <Button\r\n        variant='outlined'\r\n        color='primary'\r\n        component={Link} to='/posts/add'\r\n        sx={{ marginY: 4 }}\r\n        endIcon={<Add />}\r\n      >\r\n        <FormattedMessage id='post.add' />\r\n      </Button>\r\n    </Box>\r\n  );\r\n}","import React from 'react';\r\nimport { Card, CardHeader, CardContent, CardMedia } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Post({ image, title, body, variant = 'filled', postId = '#', numberofLikes = 0, ...props }) {\r\n  return (\r\n    <Card \r\n      sx={{ textDecoration: 'none' }} \r\n      component={Link} \r\n      to={`/posts/${postId}/view`}\r\n      >\r\n      <CardHeader\r\n        title={title}\r\n      />\r\n      <CardMedia component='img'\r\n        src={`${process.env.REACT_APP_IMAGE_URL}/${image}`}\r\n        srcSet={`${process.env.REACT_APP_IMAGE_URL}/${image}`}\r\n        alt={title}\r\n        loading=\"lazy\"\r\n        height={320}\r\n        width={320}\r\n      />\r\n      <CardContent>\r\n        <Typography>\r\n          {body.substr(0, 40)}\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nexport default function AlertDialog({ open, handleClose, handleAgree, title, body, ...props }) {\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          {body}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose}>\r\n          <FormattedMessage id='delete.disagree'/>\r\n        </Button>\r\n        <Button onClick={handleAgree} autoFocus>\r\n          <FormattedMessage id='delete.agree'/>\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { useHistory } from 'react-router-dom';\r\nimport { Pagination, Box } from '@mui/material';\r\n\r\n\r\nexport default function Pages({count, page = 1, onChange, props}) {\r\n  const history = useHistory();\r\n  const changeHandler = (e, page) => {\r\n    history.push(`/?p=${page}`);\r\n  }\r\n\r\n  return (\r\n    <Box display=\"flex\" justifyContent=\"center\" p={3}>\r\n      <Pagination\r\n        count={count}\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        page={page}\r\n        onChange={onChange}\r\n      />\r\n    </Box>\r\n  )\r\n}","import { Typography, Container, Link as MuiLink } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles'\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  footer: {\r\n    marginTop: 'auto',\r\n    borderTop: '1px solid #e0e0e0',\r\n    backgroundColor: '#FFF',\r\n    padding: '16px',\r\n  },\r\n}));\r\n\r\nexport default function Footer() {\r\n  const classes = useStyles();\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <Container maxWidth='sm'>\r\n        <Typography variant='body2' color='textSecondary' align='center'>\r\n          <FormattedMessage id='copyright' />\r\n          {' '}\r\n          <MuiLink color='inherit' href='/'>\r\n            <FormattedMessage id='app.name' />\r\n          </MuiLink>\r\n        </Typography>\r\n      </Container>\r\n    </footer>\r\n  );\r\n}","import {\r\n  Avatar,\r\n  Menu,\r\n  MenuItem,\r\n  Link as MuLink,\r\n  Box,\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@mui/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { Add } from '@mui/icons-material';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport { useState } from 'react';\r\nimport Auth from '../../Auth';\r\n\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n    cursor: 'pointer',\r\n    textAlign: 'right',\r\n    textDecoration: 'none',\r\n    color: 'white'\r\n  },\r\n  button: {\r\n    marginLeft: 2\r\n  }\r\n}));\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n  const user = Auth.getUser();\r\n\r\n  return (\r\n    <AppBar position=\"static\" sx={{ background: 'primary', marginBottom: 4 }}>\r\n      <Toolbar>\r\n        <Typography variant=\"h4\" className={classes.title} component={Link} to='/'>\r\n          <FormattedMessage id='app.name' />\r\n        </Typography>\r\n\r\n        {\r\n          user ? <UserMenu user={user} logout={Auth.logout} /> : <GuestMenu />\r\n        }\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\nfunction GuestMenu() {\r\n  return (\r\n    <Button component={Link} to='/login' color=\"inherit\" variant=\"outlined\">\r\n      <FormattedMessage id={'header.login'} />\r\n    </Button>\r\n  )\r\n}\r\n\r\nfunction UserMenu({ user, logout }) {\r\n  const [menu, setMenu] = useState(null);\r\n  const handleMenu = (event) => setMenu(event.currentTarget);\r\n  const handleClose = () => setMenu(null);\r\n\r\n  const handleLogout = async () => {\r\n    setMenu(null);\r\n    await logout();\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ flexGrow: 1 }} />\r\n      <div>\r\n        {user?.name}\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"menu-appbar\"\r\n          aria-haspopup=\"true\"\r\n          onClick={handleMenu}\r\n          color=\"inherit\"\r\n        >\r\n          <Avatar>{user.name?.charAt(0)}</Avatar>\r\n        </IconButton>\r\n        <Menu\r\n          id=\"menu-appbar\"\r\n          anchorEl={menu}\r\n          getContentAnchorEl={null}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          keepMounted\r\n          open={Boolean(menu)}\r\n          onClose={handleClose}\r\n        >\r\n          <MenuItem component={Link} to='/me'>\r\n            <FormattedMessage id='title.myPosts' />\r\n          </MenuItem>\r\n          <MenuItem component={Link} to='/profile'>\r\n            <FormattedMessage id='header.profile' />\r\n          </MenuItem>\r\n          <MenuItem onClick={handleLogout}>\r\n            <FormattedMessage id='header.logout' />\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    </>\r\n  )\r\n}","import { Container, Paper, Box, Typography, Divider, Backdrop, CircularProgress } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Footer from './partials/Footer';\r\nimport Header from './partials/Header';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh'\r\n    },\r\n\r\n    title: {\r\n      padding: theme.spacing(2),\r\n      background: theme.palette.background.title\r\n    },\r\n\r\n    continer: {\r\n      flexGrow: 1,\r\n      display: 'flex',\r\n      background:'#f0f0f0'\r\n    },\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: theme.palette.primary.main,\r\n      background: '#fff'\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      borderBottom: 'none',\r\n      background: '#f3f3f3'\r\n\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Main({ children, title, loading }) {\r\n  const classes = useStyles();\r\n\r\n  if (loading) {\r\n    return (\r\n      <Backdrop className={classes.backdrop} open={loading} >\r\n        <CircularProgress color='inherit' />\r\n      </Backdrop>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Header />\r\n      <Container maxWidth='lg' component='main'>\r\n          {\r\n            title &&\r\n            <>\r\n              <Box className={classes.title}>\r\n                <Typography variant=\"h5\">\r\n                  <FormattedMessage id={title} defaultMessage={title} />\r\n                </Typography>\r\n              </Box>\r\n              <Divider />\r\n            </>\r\n          }\r\n\r\n          {children}\r\n      </Container>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}","import { makeStyles } from '@mui/styles';\r\nimport { Container, CssBaseline, Paper, Box, Typography, Link } from '@mui/material';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100vh',\r\n    background: 'url(\"images/bg/login.jpg\")'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  }\r\n}));\r\n\r\nexport default function Auth({ children, width = 'xs' }) {\r\n  const classes = useStyles();\r\n\r\n  return <div className={classes.root}>\r\n    <Container component=\"main\" maxWidth={width}>\r\n      <CssBaseline />\r\n      <Paper className={classes.paper}>\r\n        \r\n        {children}\r\n\r\n        <Box mt={5}>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            <FormattedMessage id='copyright' />\r\n            {' '}\r\n            <Link color=\"inherit\" href=\"/\">\r\n              <FormattedMessage id='app.name' />\r\n            </Link>\r\n          </Typography>\r\n        </Box>\r\n\r\n      </Paper>\r\n    </Container>\r\n  </div>\r\n\r\n}","import axios from 'axios';\r\nimport { Typography, Avatar, Button, Box, Link as MuLink } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { LockOutlined } from '@material-ui/icons';\r\nimport { TextInput } from '../components';\r\nimport { useState } from 'react';\r\nimport { Auth as AuthLayout } from '../layouts';\r\nimport Auth from '../Auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n      padding: theme.spacing(2),\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Login(props) {\r\n  const classes = useStyles();\r\n\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/login`, {\r\n        email,\r\n        password\r\n      });\r\n\r\n      Auth.login(result.data.user);\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      setHasError(true);\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthLayout>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlined />\r\n      </Avatar>\r\n\r\n      <Typography component='h1' variant='h4'>\r\n        <FormattedMessage id={'title.login'} />\r\n      </Typography>\r\n      {\r\n        hasError && (\r\n          <Box marginTop={2}>\r\n            <Alert severity='error'>\r\n              <FormattedMessage id='error.login' />\r\n            </Alert>\r\n          </Box>\r\n        )\r\n      }\r\n\r\n      <form className={classes.form} onSubmit={onSubmit}>\r\n        <TextInput\r\n          required\r\n          label='input.email'\r\n          type='email'\r\n          autoComplete='email'\r\n          onChange={setEmail}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.password'\r\n          type='password'\r\n          autoComplete='password'\r\n          onChange={setPassword}\r\n        />\r\n\r\n        <Button\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n          fullWidth\r\n          disabled={loading}\r\n        >\r\n          <FormattedMessage id={'btn.continue'} />\r\n        </Button>\r\n\r\n        <Box marginTop={2}>\r\n          <NoAccount />\r\n        </Box>\r\n      </form>\r\n    </ AuthLayout>\r\n  )\r\n}\r\n\r\nfunction NoAccount() {\r\n  return (\r\n    <Typography align='center'>\r\n      <Link to='/register'>\r\n        <MuLink variant='body2'>\r\n          <FormattedMessage id={'dontHaveAccount'} />\r\n        </MuLink>\r\n      </Link>\r\n    </Typography>\r\n  )\r\n}","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { CircularProgress, Grid, Button, Container, Fab, Pagination } from '@mui/material';\r\nimport { Add } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport { MainLayout } from '../layouts'\r\nimport { useEffect } from 'react';\r\nimport { Post, NoPost, Paginate } from '../components';\r\n\r\nexport default function Home(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [posts, setPosts] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [postsCount, setPostsCount] = useState(0);\r\n\r\n  const loadPage = async ({p = 1}) => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts?p=${p}`);\r\n      setPostsCount(result.data.count);\r\n      setPosts(result.data.posts);\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  }, [loading]);\r\n\r\n  useEffect(() => {\r\n    loadPage({p: page});\r\n  }, [page]);\r\n\r\n  const init = async () => {\r\n    const search = props.location.search;\r\n    const params = new URLSearchParams(search);\r\n    let p = parseInt(params.get('p'));\r\n\r\n    await loadPage({p});\r\n  }\r\n\r\n  const render = loading\r\n    ? <CircularProgress />\r\n    : (\r\n      <MainLayout>\r\n\r\n        {\r\n          posts.length > 0\r\n            ?\r\n            (\r\n              <Container>\r\n                <Fab color=\"primary\" aria-label=\"أضف منشورا\" sx={{\r\n                  position: 'fixed',\r\n                  bottom: 16,\r\n                  left: 16,\r\n                }}>\r\n                  <Add />\r\n                </Fab>\r\n                <Grid container columnSpacing={1} rowSpacing={1}>\r\n                  {\r\n                    posts.map(p => (\r\n                      <Grid item xs={12} md={6} lg={4} key={p.img}>\r\n                        <Post title={p.title} image={p.image} body={p.body} postId={p._id} />\r\n                      </Grid>\r\n                    ))\r\n                  }\r\n                </Grid>\r\n              </Container>\r\n            )\r\n            :\r\n            <NoPost message='post.noPosts' />\r\n\r\n        }\r\n\r\n        <Paginate count={postsCount} page={page} props={props} onChange={(e, p) => setPage(p)}/>\r\n      </MainLayout>\r\n    )\r\n\r\n  return render;\r\n}","import axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { Typography, Avatar, Button, Box, Link as MuLink } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { LockOutlined } from '@mui/icons-material';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Auth as AuthLayout } from '../layouts'\r\nimport Auth from '../Auth';\r\n\r\nimport { TextInput } from '../components';\r\nimport { useState } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Login(props) {\r\n  const classes = useStyles();\r\n\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [confirmPassword, setConfirmPassword] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users`, {\r\n        name,\r\n        email,\r\n        password,\r\n        confirmPassword\r\n      });\r\n\r\n      Auth.login(result.data.user);\r\n      props.history.push('/');\r\n\r\n    } catch (error) {\r\n      setHasError(true);\r\n      setErrors(error.response.data.errors);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthLayout>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlined />\r\n      </Avatar>\r\n\r\n      <Typography component='h1' variant='h4'>\r\n        <FormattedMessage id={'title.register'} />\r\n      </Typography>\r\n      {\r\n        hasError && (\r\n          <Box marginTop={2}>\r\n\r\n            <Alert severity='error'>\r\n              <br />\r\n              {\r\n                errors.map(e => (\r\n                  <li>\r\n                    {e}\r\n                  </li>\r\n                ))\r\n              }\r\n            </Alert>\r\n          </Box>\r\n        )\r\n      }\r\n\r\n      <form className={classes.form} onSubmit={onSubmit}>\r\n        <TextInput\r\n          required\r\n          label='input.name'\r\n          type='text'\r\n          onChange={setName}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.email'\r\n          type='email'\r\n          autoComplete='email'\r\n          onChange={setEmail}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.password'\r\n          type='password'\r\n          autoComplete='password'\r\n          onChange={setPassword}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.passwordConfirmation'\r\n          type='password'\r\n          autoComplete='password'\r\n          onChange={setConfirmPassword}\r\n        />\r\n\r\n        <Button\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n          fullWidth\r\n          disabled={loading}\r\n        >\r\n          <FormattedMessage id={'btn.send'} />\r\n        </Button>\r\n\r\n        <Box marginTop={2}>\r\n          <NoAccount />\r\n        </Box>\r\n      </form>\r\n    </AuthLayout>\r\n  )\r\n}\r\n\r\nfunction NoAccount() {\r\n  return (\r\n    <Typography align='center'>\r\n      <Link to='/login' passHref>\r\n        <MuLink variant='body2'>\r\n          <FormattedMessage id={'haveAccount'} />\r\n        </MuLink>\r\n      </Link>\r\n    </Typography>\r\n  )\r\n}","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Button, Grid } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { MainLayout } from '../layouts';\r\nimport { TextInput } from '../components';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Auth from '../Auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    margin: theme.spacing(2),\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  alert: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst updateProfile = async ({email, name}) => {\r\n  const result = await axios.patch(`${process.env.REACT_APP_BACKEND_URL}/users/profile`, {\r\n    email,\r\n    name\r\n  });\r\n\r\n  await sleep(1);\r\n  return result;\r\n}\r\n\r\nconst updatePassword = async ({password, newPassword}) => {\r\n  return  axios.patch(`${process.env.REACT_APP_BACKEND_URL}/users/password`, {\r\n    password,\r\n    newPassword\r\n  });\r\n}\r\n\r\nconst sleep = (time) => new Promise((resolve, reject) => setTimeout(resolve, time * 1000));\r\n\r\nexport default function Profile() {\r\n\r\n  const classes = useStyles();\r\n\r\n  const [profileData, setProfileData] = useState();\r\n  const [passwordData, setPasswordData] = useState();\r\n  const [loading, setLoading] = useState({ profile: false, password: false });\r\n  const [error, setError] = useState({ profile: false, password: false });\r\n\r\n  const user = Auth.auth();\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    const { name, email } = user;\r\n    setProfileData({ name, email });\r\n\r\n  }, []);\r\n\r\n  const onSubmitProfile = async (event) => {\r\n    event.preventDefault();\r\n    setLoading({ ...loading, profile: true });\r\n\r\n    try {\r\n      const result = await updateProfile(profileData);\r\n      Auth.setUser(result.data.user);\r\n      setError({ ...error, profile: false });\r\n    } catch (e) {\r\n      console.log(e)\r\n      setError({ ...error, profile: true });\r\n    } finally {\r\n      setLoading({ ...loading, profile: false });\r\n    }\r\n  }\r\n\r\n  const onSubmitPassword = async (event) => {\r\n    event.preventDefault();\r\n    setLoading({ ...loading, password: true });\r\n    try {\r\n      await updatePassword(passwordData);\r\n      setError({ ...error, password: false });\r\n    } catch (e) {\r\n      setError({ ...error, password: e.response.data.errors });\r\n    } finally {\r\n      setLoading({ ...loading, password: false })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MainLayout title='title.profile'>\r\n      <Grid container>\r\n        <Grid item md={6} xs={12}>\r\n          {\r\n            user &&\r\n            <form className={classes.form} onSubmit={onSubmitProfile}>\r\n              <TextInput\r\n                required\r\n                label=\"input.name\"\r\n                value={profileData?.name}\r\n                variant='outlined'\r\n                onChange={name => setProfileData({ ...profileData, name })}\r\n              />\r\n\r\n              <TextInput\r\n                required\r\n                label=\"input.email\"\r\n                value={profileData?.email}\r\n                variant='outlined'\r\n                type=\"email\"\r\n                onChange={email => setProfileData({ ...profileData, email })}\r\n              />\r\n              {\r\n                error.profile &&\r\n                <Alert severity='error' className={classes.alert}>\r\n                  <FormattedMessage id='error.update_profile' />\r\n                </Alert>\r\n              }\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={loading.profile}\r\n              >\r\n                <FormattedMessage id={'btn.save'} />\r\n              </Button>\r\n\r\n            </form>\r\n          }\r\n        </Grid>\r\n        <Grid item md={6} xs={12}>\r\n          {\r\n            user &&\r\n            <form className={classes.form} onSubmit={onSubmitPassword}>\r\n\r\n              <TextInput\r\n                required\r\n                label=\"input.current_password\"\r\n                type=\"password\"\r\n                variant='outlined'\r\n                onChange={password => {\r\n                    setPasswordData({ ...passwordData, password });\r\n                    setError({...error, password: false})\r\n                  }\r\n                }\r\n              />\r\n\r\n              <TextInput\r\n                required\r\n                label=\"input.new_password\"\r\n                type=\"password\"\r\n                variant='outlined'\r\n                onChange={newPassword => {\r\n                  setPasswordData({ ...passwordData, newPassword });\r\n                  setError({...error, password: false})\r\n                }}\r\n              />\r\n              {\r\n                error.password &&\r\n                <Alert severity='error' className={classes.alert}>\r\n                  {error.password}\r\n                </Alert>\r\n              }\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={loading.password}\r\n              >\r\n                <FormattedMessage id={'btn.change_password'} />\r\n              </Button>\r\n            </form>\r\n          }\r\n        </Grid>\r\n      </Grid>\r\n    </MainLayout>\r\n  )\r\n}","import axios from 'axios';\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Container,\r\n  CssBaseline,\r\n  Input,\r\n  IconButton,\r\n  Grid\r\n} from '@mui/material';\r\nimport { makeStyles, styled } from '@mui/styles';\r\nimport { PhotoCamera } from '@mui/icons-material';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { MainLayout } from '../layouts'\r\n\r\nimport { TextInput, TextField } from '../components';\r\nimport { useState } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh',\r\n      background: 'url(\"images/bg/login.jpg\")'\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    },\r\n    form: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    imageInput: {\r\n      marginBottom: theme.spacing(2),\r\n      display: 'none'\r\n    },\r\n    image: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    imagePreview: {\r\n      width: '100px',\r\n      height: '100px'\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Login(props) {\r\n  const classes = useStyles();\r\n\r\n  const [title, setTitle] = useState();\r\n  const [body, setBody] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n\r\n      formData.append('image', image, image.name);\r\n      formData.append('title', title);\r\n      formData.append('body', body);\r\n\r\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/posts`, formData);\r\n\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      setHasError(true);\r\n      setErrors(error.response.data.errors);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const imageChangeHandler = (e) => {\r\n    setFile(URL.createObjectURL(e.target.files[0]));\r\n    setImage(e.target.files[0]);\r\n  }\r\n\r\n  const titleChangeHandler = (value) => {\r\n    setTitle(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  const bodyChangeHandler = (value) => {\r\n    setBody(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <CssBaseline />\r\n      <Container sx={{ width: '50%', alignItems: 'center', paddingTop: 2}}>\r\n        <Typography component='h1' variant='h4'>\r\n          <FormattedMessage id={'title.addPost'} />\r\n        </Typography>\r\n        {\r\n          hasError && (\r\n            <Box marginTop={2}>\r\n\r\n              <Alert severity='error'>\r\n                <br />\r\n                {\r\n                  errors.map(e => (\r\n                    <li>\r\n                      {e}\r\n                    </li>\r\n                  ))\r\n                }\r\n              </Alert>\r\n            </Box>\r\n          )\r\n        }\r\n\r\n        <form onSubmit={onSubmit} className={classes.form}>\r\n          <TextInput\r\n            required\r\n            Component='TextInput'\r\n            label='post.title'\r\n            type='text'\r\n            onChange={titleChangeHandler}\r\n          />\r\n\r\n          <TextField\r\n            required\r\n            label='post.body'\r\n            multiline\r\n            rows={4}\r\n            onChange={bodyChangeHandler}\r\n          />\r\n\r\n          <Grid container spacing={2} >\r\n            <Grid item xs={12} md={6}>\r\n              <label htmlFor=\"icon-button-file\">\r\n                <Input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" sx={{ display: 'none' }} onChange={imageChangeHandler} />\r\n                <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                  <PhotoCamera fontSize='large'/>\r\n                </IconButton>\r\n                <FormattedMessage id='post.image' />\r\n              </label>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={4}>\r\n              <img src={file} className={classes.imagePreview} />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Button\r\n            type='submit'\r\n            variant='contained'\r\n            color='primary'\r\n            fullWidth\r\n            sx={{marginTop: 2}}\r\n            disabled={loading}\r\n          >\r\n            <FormattedMessage id={'btn.send'} />\r\n          </Button>\r\n        </form>\r\n      </Container>\r\n    </MainLayout>\r\n  )\r\n}\r\n","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, CircularProgress, Grid, Container, Fab } from '@mui/material';\r\nimport { Add } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport { MainLayout } from '../layouts'\r\nimport { useEffect } from 'react';\r\nimport { Post, NoPost } from '../components';\r\nimport Auth from '../Auth';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nexport default function Home() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Auth.init();\r\n    init();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  }, [loading]);\r\n\r\n  const init = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts/me`);\r\n\r\n      setPosts(result.data.posts)\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  const render = loading\r\n    ? <CircularProgress />\r\n    : (\r\n      <MainLayout>\r\n        {\r\n          posts.length > 0\r\n            ? (\r\n\r\n              <Container>\r\n                <Fab color=\"primary\" aria-label=\"أضف منشورا\" sx={{\r\n                  position: 'fixed',\r\n                  bottom: 16,\r\n                  left: 16,\r\n                }}>\r\n                  <Add />\r\n                </Fab>\r\n\r\n                <Grid container spacing={1} >\r\n                  {\r\n                    posts.map(p => (\r\n                      <Grid item xs={12} md={6} lg={4} key={p.img}>\r\n                        <Post title={p.title} image={p.image} body={p.body} postId={p._id} />\r\n                      </Grid>\r\n                    ))\r\n                  }\r\n                </Grid>\r\n              </Container>\r\n            ) \r\n            :\r\n            <NoPost message='post.profileNoPosts' />\r\n        }\r\n      </MainLayout>\r\n    )\r\n\r\n  return render;\r\n}","import axios from \"axios\";\r\n\r\nconst postsHooks = () => {\r\n  const getPosts = async () => {\r\n    try {\r\n      const response = await axios();\r\n      const data =  await response.data;\r\n\r\n      if (!data.status) {\r\n        return false;\r\n      }\r\n\r\n      return [null, data.posts];\r\n    } catch (error) {\r\n      return [error, null];\r\n    }\r\n  }\r\n\r\n  const getPost = async (postId) => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`);\r\n      const data =  await response.data;\r\n\r\n      return [data.post, null];\r\n    } catch (error) {\r\n      return [null, error];\r\n    }\r\n  }\r\n\r\n  const updatePost = async (postId, data) => {\r\n    try {\r\n      const result = await axios.patch(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}/update`, data);\r\n\r\n      return [result, null];\r\n    } catch (error) {\r\n      return [null, error.response.data.errors];\r\n    }\r\n  }\r\n\r\n  const deletePost = async (postId) => {\r\n    try {\r\n      const result = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`);\r\n\r\n      return [result, null];\r\n    } catch (error) {\r\n      console.log('error =>>', error.response.data.errors)\r\n      return [null, error.response.data.errors];\r\n    }\r\n  }\r\n\r\n  const likePost = async (postId) => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}/like`);\r\n      const data =  await response.data;\r\n\r\n      return [data.post, null];\r\n    } catch (error) {\r\n      return [null, error];\r\n    }\r\n  }\r\n\r\n  return {\r\n    getPosts,\r\n    getPost,\r\n    updatePost,\r\n    likePost,\r\n    deletePost\r\n  }\r\n}\r\n\r\nexport default postsHooks;","import { useEffect } from 'react';\r\nimport {\r\n  Typography,\r\n  Box,\r\n  Container,\r\n  IconButton,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardMedia,\r\n  CardActions\r\n} from '@mui/material';\r\nimport { pink } from '@mui/material/colors';\r\nimport { Alert } from '@material-ui/lab';\r\nimport Auth from '../Auth';\r\nimport { ThumbUp, ThumbUpOutlined, Edit, Delete } from '@mui/icons-material';\r\nimport { useIntl } from 'react-intl';\r\nimport { MainLayout } from '../layouts'\r\nimport { AlertDialog } from '../components';\r\nimport { useState } from 'react';\r\nimport postHooks from '../hooks/postsHooks';\r\n\r\nexport default function EditPost(props) {\r\n  const postId = props.match.params.id;\r\n  const editUrl = `/posts/${postId}/edit`;\r\n  const { formatMessage } = useIntl();\r\n\r\n  const { getPost, likePost, deletePost } = postHooks();\r\n  const [title, setTitle] = useState();\r\n  const [numberOfLikes, setNumberOfLikes] = useState(0);\r\n  const [userId, setUserId] = useState(null);\r\n  const [body, setBody] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [liked, setLiked] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    Auth.init();\r\n    (async () => {\r\n      setLoading(true);\r\n      const [post, error] = await getPost(postId);\r\n      console.log(post);\r\n      if (error) {\r\n        setLoading(false);\r\n        props.history.push('/');\r\n        return;\r\n      }\r\n\r\n      setLoading(false);\r\n      setTitle(post.title);\r\n      setBody(post.body);\r\n      setNumberOfLikes(post.numberOfLikes);\r\n      setUserId(post.user);\r\n      setLiked(post.liked);\r\n      setFile(`${process.env.REACT_APP_IMAGE_URL}/${post.image}`)\r\n    })();\r\n\r\n  }, []);\r\n\r\n\r\n  const handleLikeClick = async () => {\r\n    const [post, error] = await likePost(postId);\r\n    if (error) {\r\n      return;\r\n    }\r\n\r\n    setNumberOfLikes(post.numberOfLikes);\r\n    setLiked(post.liked);\r\n  }\r\n\r\n  const handleDeleteClick = async () => {\r\n    const [_, error] = await deletePost(postId);\r\n    if (error) {\r\n      setOpen(false);\r\n      setHasError(true);\r\n      setErrors(error);\r\n      return;\r\n    }\r\n\r\n    props.history.push('/me');\r\n  }\r\n\r\n  const handleClickOpen = async () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = async () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <MainLayout loading={loading}>\r\n      <Container component=\"main\" maxWidth='sm' sx={{marginBottom: 4}}>\r\n        {\r\n          hasError && (\r\n            <Box marginTop={2}>\r\n              <Alert severity='error'>\r\n                <br />\r\n                {\r\n                  errors.map(e => (\r\n                    <li>\r\n                      {e}\r\n                    </li>\r\n                  ))\r\n                }\r\n              </Alert>\r\n            </Box>\r\n          )\r\n        }\r\n\r\n        <Card>\r\n          <CardHeader\r\n            title={title}\r\n          />\r\n\r\n          <CardMedia\r\n            component='img'\r\n            src={file}\r\n            alt={title}\r\n            loading=\"lazy\" \r\n            height='420px'\r\n            />\r\n\r\n          <CardContent>\r\n            <Typography variant='h5'>\r\n              {body}\r\n            </Typography>\r\n          </CardContent>\r\n\r\n          <CardActions sx={{ justifyContent: 'center' }}>\r\n            {\r\n              Auth.auth() && Auth.getUser()._id === userId ? (\r\n                <div>\r\n                  <IconButton aria-label=\"add to shopping cart\" onClick={() => props.history.push(editUrl)}>\r\n                    <Edit sx={{ color: pink[500] }} />\r\n                  </IconButton>\r\n\r\n                  <IconButton aria-label=\"add to shopping cart\" onClick={handleClickOpen}>\r\n                    <Delete sx={{ color: pink[500] }} />\r\n                  </IconButton>\r\n\r\n                  <AlertDialog\r\n                    title={formatMessage({ id: 'post.delete.title' })}\r\n                    body={formatMessage({ id: 'post.delete.body' })}\r\n                    open={open}\r\n                    handleAgree={handleDeleteClick}\r\n                    handleClose={handleClose}\r\n                  />\r\n                </div>\r\n              ) : ''\r\n            }\r\n            {numberOfLikes || 0}\r\n            <IconButton color=\"primary\" aria-label=\"add to shopping cart\" onClick={handleLikeClick}>\r\n              {\r\n                liked ? <ThumbUp /> : <ThumbUpOutlined />\r\n              }\r\n            </IconButton>\r\n          </CardActions>\r\n        </Card>\r\n      </Container>\r\n    </MainLayout>\r\n  )\r\n}\r\n","import { useEffect } from 'react';\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Container,\r\n  CssBaseline,\r\n  Input,\r\n  IconButton,\r\n  Grid\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { PhotoCamera } from '@mui/icons-material';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { MainLayout } from '../layouts'\r\n\r\nimport { TextInput, TextField } from '../components';\r\nimport { useState } from 'react';\r\nimport postHooks from '../hooks/postsHooks';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh',\r\n      background: 'url(\"images/bg/login.jpg\")'\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    },\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n      width: '60%'\r\n    },\r\n    imageInput: {\r\n      marginBottom: theme.spacing(2),\r\n      display: 'none'\r\n    },\r\n    image: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    imagePreview: {\r\n      width: '100px',\r\n      height: '100px'\r\n    }\r\n  }\r\n});\r\n\r\nexport default function EditPost(props) {\r\n  const postId = props.match.params.id;\r\n  const classes = useStyles();\r\n\r\n  const { getPost, updatePost } = postHooks();\r\n  const [title, setTitle] = useState();\r\n  const [body, setBody] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const [post, error] = await getPost(postId);\r\n      if (error) {\r\n        props.history.push('/');\r\n        return;\r\n      }\r\n\r\n      setTitle(post.title);\r\n      setBody(post.body);\r\n      setFile(`${process.env.REACT_APP_IMAGE_URL}/${post.image}`)\r\n    })();\r\n\r\n  }, []);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    if (image) {\r\n      formData.append('image', image, image.name);\r\n    }\r\n\r\n    formData.append('title', title);\r\n    formData.append('body', body);\r\n\r\n    setLoading(true);\r\n    const [_, errors] = await updatePost(postId, formData);\r\n    setLoading(false);\r\n\r\n    if (errors) {\r\n      setHasError(true);\r\n      setErrors(errors);\r\n    } else {\r\n      props.history.push('/');\r\n    }\r\n  }\r\n\r\n  const imageChangeHandler = (e) => {\r\n    setFile(URL.createObjectURL(e.target.files[0]));\r\n    setImage(e.target.files[0]);\r\n  }\r\n\r\n  const titleChangeHandler = (value) => {\r\n    setTitle(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  const bodyChangeHandler = (value) => {\r\n    setBody(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <CssBaseline />\r\n      <Container sx={{ width: '50%', alignItems: 'center', paddingTop: 2 }}>\r\n\r\n        <Typography component='h1' variant='h4'>\r\n          <FormattedMessage id={'post.edit'} />\r\n        </Typography>\r\n        {\r\n          hasError && (\r\n            <Box marginTop={2}>\r\n\r\n              <Alert severity='error'>\r\n                <br />\r\n                {\r\n                  errors.map(e => (\r\n                    <li>\r\n                      {e}\r\n                    </li>\r\n                  ))\r\n                }\r\n              </Alert>\r\n            </Box>\r\n          )\r\n        }\r\n\r\n        <form onSubmit={onSubmit}>\r\n          <TextInput\r\n            required\r\n            Component='TextInput'\r\n            label='post.title'\r\n            type='text'\r\n            value={title}\r\n            onChange={titleChangeHandler}\r\n          />\r\n\r\n          <div>\r\n            <TextField\r\n              required\r\n              label='post.body'\r\n              multiline\r\n              rows={4}\r\n              value={body}\r\n              onChange={bodyChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <Grid container spacing={2} className={classes.image}>\r\n            <Grid item xs={12} md={6}>\r\n              <label htmlFor=\"icon-button-file\">\r\n                <Input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" sx={{ display: 'none' }} onChange={imageChangeHandler} />\r\n                <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                  <PhotoCamera />\r\n                  <FormattedMessage id='post.image' />\r\n                </IconButton>\r\n              </label>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={4}>\r\n              <img src={file} className={classes.imagePreview} />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Button\r\n            type='submit'\r\n            variant='contained'\r\n            color='primary'\r\n            disabled={loading}\r\n            fullWidth\r\n            sx={{ marginTop: 2 }}\r\n          >\r\n            <FormattedMessage id={'btn.edit'} />\r\n          </Button>\r\n        </form>\r\n      </Container>\r\n    </MainLayout>\r\n  )\r\n}\r\n","import './App.css';\nimport { useEffect } from 'react';\nimport Auth from './Auth';\nimport AppRoute from './AppRoute';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { Login, Home, Register, Profile, AddPost, MyPosts, ViewPost, EditPost } from './screens';\n\nfunction App() {\n\n  useEffect(() => {\n    Auth.init();\n  }, [])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <AppRoute exact path=\"/\" component={Home} />\n          <AppRoute exact path=\"/posts/add\" component={AddPost} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/posts/:id/view\" component={ViewPost} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/posts/:id/edit\" component={EditPost} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/me\" component={MyPosts} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/login\" component={Login} can={Auth.guest} redirect='/' />\n          <AppRoute exact path=\"/register\" component={Register} can={Auth.guest} redirect='/' />\n          <AppRoute exact path=\"/profile\" component={Profile} can={Auth.auth} redirect='/login' />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { IntlProvider } from 'react-intl';\nimport messages from './translations';\nimport RTL from './components/RTL';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from './theme';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <RTL>\n      <IntlProvider locale='ar' messages={messages['ar']}>\n        <React.StrictMode>\n          <App />\n        </React.StrictMode>\n      </IntlProvider>\n    </RTL>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}