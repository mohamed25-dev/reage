{"version":3,"sources":["translations/index.js","components/RTL.js","theme.js","Auth.js","AppRoute.js","components/TextInupt.js","components/TextField.js","components/NoPost.js","components/Post.js","components/AlertDialog.js","layouts/partials/Footer.js","layouts/partials/Header.js","layouts/Main.js","layouts/Auth.js","screens/Login.js","screens/Home.js","screens/Register.js","screens/Profile.js","screens/AddPost.js","screens/MyPosts.js","hooks/postsHooks.js","screens/ViewPost.js","screens/EditPost.js","App.js","reportWebVitals.js","index.js"],"names":["ar","cacheRtl","createCache","key","stylisPlugins","rtlPlugin","RTL","props","value","children","theme","createTheme","direction","typography","palette","primary","teal","secondary","red","Auth","login","user","localStorage","setItem","JSON","stringify","axios","defaults","headers","common","token","init","parse","getItem","auth","guest","logout","removeItem","getToken","getUser","setUser","updatedUser","AppRoute","Component","component","can","redirect","rest","render","to","TextInput","name","label","onChange","variant","formatMessage","useIntl","TextField","sx","marginY","fullWidth","id","defaultMessage","e","target","NoPost","message","Box","style","alignItems","margin","Typography","Button","color","Link","endIcon","Add","Post","image","title","body","postId","numberofLikes","Card","marginBottom","CardHeader","CardMedia","src","process","srcSet","alt","loading","height","width","CardContent","substr","AlertDialog","open","handleClose","handleAgree","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","onClick","autoFocus","useStyles","makeStyles","footer","marginTop","borderTop","backgroundColor","padding","Footer","classes","className","Container","maxWidth","align","href","flexGrow","cursor","textAlign","textDecoration","button","marginLeft","Header","AppBar","position","background","Toolbar","UserMenu","GuestMenu","useState","menu","setMenu","handleLogout","a","window","location","reload","IconButton","fontSize","event","currentTarget","Avatar","charAt","Menu","anchorEl","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","Boolean","MenuItem","root","display","flexDirection","minHeight","spacing","continer","backdrop","zIndex","drawer","main","content","borderBottom","Main","Backdrop","CircularProgress","Divider","paper","CssBaseline","Paper","mt","avatar","form","Login","email","setEmail","password","setPassword","setLoading","hasError","setHasError","onSubmit","preventDefault","post","result","data","history","push","console","log","LockOutlined","Alert","severity","required","type","autoComplete","disabled","NoAccount","Home","posts","setPosts","useEffect","get","length","Grid","container","map","p","item","xs","_id","img","setName","confirmPassword","setConfirmPassword","errors","setErrors","response","passHref","paddingTop","alert","updateProfile","patch","sleep","updatePassword","newPassword","time","Promise","resolve","reject","setTimeout","Profile","profileData","setProfileData","passwordData","setPasswordData","profile","error","setError","onSubmitProfile","onSubmitPassword","md","imageInput","imagePreview","setTitle","setBody","file","setFile","setImage","formData","FormData","append","multiline","rows","htmlFor","Input","accept","URL","createObjectURL","files","PhotoCamera","postsHooks","getPosts","status","getPost","updatePost","deletePost","delete","likePost","EditPost","match","params","editUrl","postHooks","numberOfLikes","setNumberOfLikes","userId","setUserId","liked","setLiked","setOpen","handleLikeClick","handleDeleteClick","handleClickOpen","CardActions","justifyContent","Edit","pink","Delete","ThumbUp","ThumbUpOutlined","App","exact","path","AddPost","ViewPost","MyPosts","Register","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","ThemeProvider","locale","messages","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0dfa9892.chunk.js","sourcesContent":["import ar from './ar.json'\r\n\r\nexport default {\r\n  ar\r\n}","import rtlPlugin from 'stylis-plugin-rtl';\r\nimport { CacheProvider } from '@emotion/react';\r\nimport createCache from '@emotion/cache';\r\n\r\n// Create rtl cache\r\nconst cacheRtl = createCache({\r\n  key: 'muirtl',\r\n  stylisPlugins: [rtlPlugin],\r\n});\r\n\r\nexport default function RTL(props) {\r\n  return <CacheProvider value={cacheRtl}>{props.children}</CacheProvider>;\r\n}\r\n","import { createTheme } from '@mui/material/styles';\r\nimport { teal, red } from '@mui/material/colors';\r\n\r\n\r\nconst theme = createTheme({\r\n  direction: 'rtl',\r\n  typography: {\r\n    \"fontSize\": 14,\r\n    \"fontWeightLight\": 300,\r\n    \"fontWeightRegular\": 400,\r\n    \"fontWeightMedium\": 500\r\n  },\r\n  palette: {\r\n    primary: teal,\r\n    secondary: red,\r\n  },\r\n});\r\n\r\nexport default theme;","import axios from \"axios\";\r\n\r\nconst Auth = {\r\n  login: user => {\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + user.token;\r\n  },\r\n\r\n  init: () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    axios.defaults.headers.common['Authorization'] = user ? 'Bearer ' + user.token : '';\r\n  },\r\n\r\n  auth: () => {\r\n    return JSON.parse(localStorage.getItem('user'));\r\n  },\r\n\r\n  guest: () => {\r\n    return localStorage.getItem('user') === null || localStorage.getItem('user') === 'undefined';\r\n  },\r\n\r\n  logout: () => {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('user');\r\n    return;\r\n  },\r\n\r\n  getToken: () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    return user ? user.token : '';\r\n  },\r\n\r\n  getUser: () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    return user;\r\n  },\r\n\r\n  setUser: (updatedUser) => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    updatedUser.token = user.token;\r\n\r\n    localStorage.setItem('user', JSON.stringify(updatedUser));\r\n  }\r\n}\r\n\r\nexport default Auth;","import {Route, Redirect} from 'react-router-dom';\r\n\r\nconst AppRoute = ({component: Component, can = () => true, redirect, ...rest}) => {\r\n  return (\r\n    <Route {...rest} render = {(props) => {\r\n      return (\r\n        can() ? <Component {...props} /> : <Redirect to={redirect} />\r\n      );\r\n    }} />\r\n  );\r\n}\r\n\r\nexport default AppRoute;","import React from 'react';\r\nimport { useIntl } from 'react-intl';\r\nimport TextField from '@mui/material/TextField';\r\n\r\n\r\nexport default function TextInput({ name, label, onChange, variant, value, ...props }) {\r\n  const { formatMessage } = useIntl();\r\n\r\n  return (\r\n    <TextField\r\n      sx={{ marginY: 2 }}\r\n      variant={variant}\r\n      fullWidth\r\n      name={name}\r\n      value={value}\r\n      label={formatMessage({\r\n        id: label,\r\n        defaultMessage: label\r\n      })}\r\n      onChange={e => onChange(e.target.value)}\r\n      {...props}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport { useIntl } from 'react-intl';\r\n\r\nimport { TextField } from '@mui/material';\r\n\r\nexport default function TextInput({ name, label, onChange, value, ...props }) {\r\n  const { formatMessage } = useIntl();\r\n\r\n  return (\r\n    <TextField\r\n      sx={{ marginY: 2 }}\r\n      fullWidth\r\n      name={name}\r\n      label={formatMessage({\r\n        id: label,\r\n        defaultMessage: label\r\n      })}\r\n      value={value}\r\n      onChange={e => onChange(e.target.value)}\r\n      {...props}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Box, Button, Typography } from '@mui/material';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Add } from '@mui/icons-material';\r\n\r\nexport default function NoPost({message}) {\r\n  return (\r\n    <Box style={{ alignItems: 'center', margin: 32 }}>\r\n      <Typography variant='h5'>\r\n        <FormattedMessage id={message} />\r\n      </Typography>\r\n\r\n      <Button\r\n        variant='outlined'\r\n        color='primary'\r\n        component={Link} to='/posts/add'\r\n        sx={{ marginY: 4 }}\r\n        endIcon={<Add />}\r\n      >\r\n        <FormattedMessage id='post.add' />\r\n      </Button>\r\n    </Box>\r\n  );\r\n}","import React from 'react';\r\nimport { Card, CardHeader, CardContent, CardActions, CardMedia, Box } from '@mui/material';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default function Post({ image, title, body, variant = 'filled', postId = '#', numberofLikes = 0, ...props }) {\r\n  return (\r\n    <Card sx={{ marginBottom: 2 }}>\r\n      <CardHeader  \r\n        title={title}\r\n      />\r\n      <CardMedia>\r\n        <Box component={Link} to={`/posts/${postId}/view`} >\r\n          <img\r\n            src={`${process.env.REACT_APP_IMAGE_URL}/${image}`}\r\n            srcSet={`${process.env.REACT_APP_IMAGE_URL}/${image}`}\r\n            alt={title}\r\n            loading=\"lazy\"\r\n            height={320}\r\n            width={320}\r\n          />\r\n        </Box>\r\n      </CardMedia>\r\n      <CardContent>\r\n        <p>{body.substr(0, 40)}</p>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nexport default function AlertDialog({ open, handleClose, handleAgree, title, body, ...props }) {\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          {body}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose}>\r\n          <FormattedMessage id='delete.disagree'/>\r\n        </Button>\r\n        <Button onClick={handleAgree} autoFocus>\r\n          <FormattedMessage id='delete.agree'/>\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { Typography, Container, Link as MuiLink } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles'\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  footer: {\r\n    marginTop: 'auto',\r\n    borderTop: '1px solid #e0e0e0',\r\n    backgroundColor: '#FFF',\r\n    padding: '30px',\r\n  },\r\n}));\r\n\r\nexport default function Footer() {\r\n  const classes = useStyles();\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <Container maxWidth='sm'>\r\n        <Typography variant='body2' color='textSecondary' align='center'>\r\n          <FormattedMessage id='copyright' />\r\n          {' '}\r\n          <MuiLink color='inherit' href='/'>\r\n            <FormattedMessage id='app.name' />\r\n          </MuiLink>\r\n        </Typography>\r\n      </Container>\r\n    </footer>\r\n  );\r\n}","import {\r\n  Avatar,\r\n  Menu,\r\n  MenuItem,\r\n  Link as MuLink,\r\n  Box,\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@mui/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { Add } from '@mui/icons-material';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport { useState } from 'react';\r\nimport Auth from '../../Auth';\r\n\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n    cursor: 'pointer',\r\n    textAlign: 'right',\r\n    textDecoration: 'none',\r\n    color: 'white'\r\n  },\r\n  button: {\r\n    marginLeft: 2\r\n  }\r\n}));\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n  const user = Auth.getUser();\r\n\r\n  return (\r\n    <AppBar position=\"static\" sx={{ background: 'primary', marginBottom: 4 }}>\r\n      <Toolbar>\r\n        <Typography variant=\"h4\" className={classes.title} component={Link} to='/'>\r\n          <FormattedMessage id='app.name' />\r\n        </Typography>\r\n\r\n        {\r\n          user ? <UserMenu user={user} logout={Auth.logout} /> : <GuestMenu />\r\n        }\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\nfunction GuestMenu() {\r\n  return (\r\n    <Button component={Link} to='/login' color=\"inherit\" variant=\"outlined\">\r\n      <FormattedMessage id={'header.login'} />\r\n    </Button>\r\n  )\r\n}\r\n\r\nfunction UserMenu({ user, logout }) {\r\n  const [menu, setMenu] = useState(null);\r\n  const handleMenu = (event) => setMenu(event.currentTarget);\r\n  const handleClose = () => setMenu(null);\r\n\r\n  const handleLogout = async () => {\r\n    setMenu(null);\r\n    await logout();\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <IconButton component={Link} to='/posts/add'>\r\n        <Add sx={{ color: 'white', fontSize: 'larger' }} />\r\n      </IconButton>\r\n      <FormattedMessage id='post.add' />\r\n\r\n      <Box sx={{ flexGrow: 1 }} />\r\n      <div>\r\n        {user?.name}\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"menu-appbar\"\r\n          aria-haspopup=\"true\"\r\n          onClick={handleMenu}\r\n          color=\"inherit\"\r\n        >\r\n          <Avatar>{user.name?.charAt(0)}</Avatar>\r\n        </IconButton>\r\n        <Menu\r\n          id=\"menu-appbar\"\r\n          anchorEl={menu}\r\n          getContentAnchorEl={null}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          keepMounted\r\n          open={Boolean(menu)}\r\n          onClose={handleClose}\r\n        >\r\n          <MenuItem component={Link} to='/me'>\r\n            <FormattedMessage id='title.myPosts' />\r\n          </MenuItem>\r\n          <MenuItem component={Link} to='/profile'>\r\n            <FormattedMessage id='header.profile' />\r\n          </MenuItem>\r\n          <MenuItem onClick={handleLogout}>\r\n            <FormattedMessage id='header.logout' />\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    </>\r\n  )\r\n}","import { Container, Paper, Box, Typography, Divider, Backdrop, CircularProgress } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Footer from './partials/Footer';\r\nimport Header from './partials/Header';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh'\r\n    },\r\n\r\n    title: {\r\n      padding: theme.spacing(2),\r\n      background: theme.palette.background.title\r\n    },\r\n\r\n    continer: {\r\n      flexGrow: 1,\r\n      display: 'flex',\r\n      background:'#f0f0f0'\r\n    },\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: theme.palette.primary.main,\r\n      background: '#fff'\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      borderBottom: 'none',\r\n      background: '#f3f3f3'\r\n\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Main({ children, title, loading }) {\r\n  const classes = useStyles();\r\n\r\n  if (loading) {\r\n    return (\r\n      <Backdrop className={classes.backdrop} open={loading} >\r\n        <CircularProgress color='inherit' />\r\n      </Backdrop>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Header />\r\n      <Container maxWidth='lg' component='main'>\r\n          {\r\n            title &&\r\n            <>\r\n              <Box className={classes.title}>\r\n                <Typography variant=\"h5\">\r\n                  <FormattedMessage id={title} defaultMessage={title} />\r\n                </Typography>\r\n              </Box>\r\n              <Divider />\r\n            </>\r\n          }\r\n\r\n          {children}\r\n      </Container>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}","import { makeStyles } from '@mui/styles';\r\nimport { Container, CssBaseline, Paper, Box, Typography, Link } from '@mui/material';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100vh',\r\n    background: 'url(\"images/bg/login.jpg\")'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  }\r\n}));\r\n\r\nexport default function Auth({ children, width = 'xs' }) {\r\n  const classes = useStyles();\r\n\r\n  return <div className={classes.root}>\r\n    <Container component=\"main\" maxWidth={width}>\r\n      <CssBaseline />\r\n      <Paper className={classes.paper}>\r\n        \r\n        {children}\r\n\r\n        <Box mt={5}>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            <FormattedMessage id='copyright' />\r\n            {' '}\r\n            <Link color=\"inherit\" href=\"/\">\r\n              <FormattedMessage id='app.name' />\r\n            </Link>\r\n          </Typography>\r\n        </Box>\r\n\r\n      </Paper>\r\n    </Container>\r\n  </div>\r\n\r\n}","import axios from 'axios';\r\nimport { Typography, Avatar, Button, Box, Link as MuLink } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { LockOutlined } from '@material-ui/icons';\r\nimport { TextInput } from '../components';\r\nimport { useState } from 'react';\r\nimport { Auth as AuthLayout } from '../layouts';\r\nimport Auth from '../Auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n      padding: theme.spacing(2),\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Login(props) {\r\n  const classes = useStyles();\r\n\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/login`, {\r\n        email,\r\n        password\r\n      });\r\n\r\n      Auth.login(result.data.user);\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      setHasError(true);\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthLayout>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlined />\r\n      </Avatar>\r\n\r\n      <Typography component='h1' variant='h4'>\r\n        <FormattedMessage id={'title.login'} />\r\n      </Typography>\r\n      {\r\n        hasError && (\r\n          <Box marginTop={2}>\r\n            <Alert severity='error'>\r\n              <FormattedMessage id='error.login' />\r\n            </Alert>\r\n          </Box>\r\n        )\r\n      }\r\n\r\n      <form className={classes.form} onSubmit={onSubmit}>\r\n        <TextInput\r\n          required\r\n          label='input.email'\r\n          type='email'\r\n          autoComplete='email'\r\n          onChange={setEmail}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.password'\r\n          type='password'\r\n          autoComplete='password'\r\n          onChange={setPassword}\r\n        />\r\n\r\n        <Button\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n          fullWidth\r\n          disabled={loading}\r\n        >\r\n          <FormattedMessage id={'btn.continue'} />\r\n        </Button>\r\n\r\n        <Box marginTop={2}>\r\n          <NoAccount />\r\n        </Box>\r\n      </form>\r\n    </ AuthLayout>\r\n  )\r\n}\r\n\r\nfunction NoAccount() {\r\n  return (\r\n    <Typography align='center'>\r\n      <Link to='/register'>\r\n        <MuLink variant='body2'>\r\n          <FormattedMessage id={'dontHaveAccount'} />\r\n        </MuLink>\r\n      </Link>\r\n    </Typography>\r\n  )\r\n}","import { useState } from 'react';\r\nimport { CircularProgress, Grid } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { MainLayout } from '../layouts'\r\nimport { useEffect } from 'react';\r\nimport { Post, NoPost } from '../components';\r\n\r\nexport default function Home() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  }, [loading]);\r\n\r\n  const init = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts`);\r\n      console.log(result.data);\r\n      setPosts(result.data.posts)\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  const render = loading\r\n    ? <CircularProgress />\r\n    : (\r\n      <MainLayout>\r\n        {\r\n          posts.length > 0\r\n            ? <Grid container spacing={2}>\r\n              {\r\n                posts.map(p => (\r\n                  <Grid item xs={4} key={p.img}>\r\n                    <Post title={p.title} image={p.image} body={p.body} postId={p._id} />\r\n                  </Grid>\r\n                ))\r\n              }\r\n            </Grid>\r\n            :\r\n           <NoPost message='post.noPosts'/>\r\n        }\r\n\r\n      </MainLayout>\r\n    )\r\n\r\n  return render;\r\n}","import axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { Typography, Avatar, Button, Box, Link as MuLink } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { LockOutlined } from '@mui/icons-material';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Auth as AuthLayout } from '../layouts'\r\nimport Auth from '../Auth';\r\n\r\nimport { TextInput } from '../components';\r\nimport { useState } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Login(props) {\r\n  const classes = useStyles();\r\n\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [confirmPassword, setConfirmPassword] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users`, {\r\n        name,\r\n        email,\r\n        password,\r\n        confirmPassword\r\n      });\r\n\r\n      Auth.login(result.data.user);\r\n      props.history.push('/');\r\n\r\n    } catch (error) {\r\n      setHasError(true);\r\n      setErrors(error.response.data.errors);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthLayout>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlined />\r\n      </Avatar>\r\n\r\n      <Typography component='h1' variant='h4'>\r\n        <FormattedMessage id={'title.register'} />\r\n      </Typography>\r\n      {\r\n        hasError && (\r\n          <Box marginTop={2}>\r\n\r\n            <Alert severity='error'>\r\n              <br />\r\n              {\r\n                errors.map(e => (\r\n                  <li>\r\n                    {e}\r\n                  </li>\r\n                ))\r\n              }\r\n            </Alert>\r\n          </Box>\r\n        )\r\n      }\r\n\r\n      <form className={classes.form} onSubmit={onSubmit}>\r\n        <TextInput\r\n          required\r\n          label='input.name'\r\n          type='text'\r\n          onChange={setName}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.email'\r\n          type='email'\r\n          autoComplete='email'\r\n          onChange={setEmail}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.password'\r\n          type='password'\r\n          autoComplete='password'\r\n          onChange={setPassword}\r\n        />\r\n\r\n        <TextInput\r\n          required\r\n          label='input.passwordConfirmation'\r\n          type='password'\r\n          autoComplete='password'\r\n          onChange={setConfirmPassword}\r\n        />\r\n\r\n        <Button\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n          fullWidth\r\n          disabled={loading}\r\n        >\r\n          <FormattedMessage id={'btn.send'} />\r\n        </Button>\r\n\r\n        <Box marginTop={2}>\r\n          <NoAccount />\r\n        </Box>\r\n      </form>\r\n    </AuthLayout>\r\n  )\r\n}\r\n\r\nfunction NoAccount() {\r\n  return (\r\n    <Typography align='center'>\r\n      <Link to='/login' passHref>\r\n        <MuLink variant='body2'>\r\n          <FormattedMessage id={'haveAccount'} />\r\n        </MuLink>\r\n      </Link>\r\n    </Typography>\r\n  )\r\n}","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Button, Grid } from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { MainLayout } from '../layouts';\r\nimport { TextInput } from '../components';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Auth from '../Auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    margin: theme.spacing(2),\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  alert: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst updateProfile = async ({email, name}) => {\r\n  const result = await axios.patch(`${process.env.REACT_APP_BACKEND_URL}/users/profile`, {\r\n    email,\r\n    name\r\n  });\r\n\r\n  await sleep(1);\r\n  return result;\r\n}\r\n\r\nconst updatePassword = async ({password, newPassword}) => {\r\n  return  axios.patch(`${process.env.REACT_APP_BACKEND_URL}/users/password`, {\r\n    password,\r\n    newPassword\r\n  });\r\n}\r\n\r\nconst sleep = (time) => new Promise((resolve, reject) => setTimeout(resolve, time * 1000));\r\n\r\nexport default function Profile() {\r\n\r\n  const classes = useStyles();\r\n\r\n  const [profileData, setProfileData] = useState();\r\n  const [passwordData, setPasswordData] = useState();\r\n  const [loading, setLoading] = useState({ profile: false, password: false });\r\n  const [error, setError] = useState({ profile: false, password: false });\r\n\r\n  const user = Auth.auth();\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    const { name, email } = user;\r\n    setProfileData({ name, email });\r\n\r\n  }, []);\r\n\r\n  const onSubmitProfile = async (event) => {\r\n    event.preventDefault();\r\n    setLoading({ ...loading, profile: true });\r\n\r\n    try {\r\n      const result = await updateProfile(profileData);\r\n      Auth.setUser(result.data.user);\r\n      setError({ ...error, profile: false });\r\n    } catch (e) {\r\n      console.log(e)\r\n      setError({ ...error, profile: true });\r\n    } finally {\r\n      setLoading({ ...loading, profile: false });\r\n    }\r\n  }\r\n\r\n  const onSubmitPassword = async (event) => {\r\n    event.preventDefault();\r\n    setLoading({ ...loading, password: true });\r\n    try {\r\n      await updatePassword(passwordData);\r\n      setError({ ...error, password: false });\r\n    } catch (e) {\r\n      setError({ ...error, password: e.response.data.errors });\r\n    } finally {\r\n      setLoading({ ...loading, password: false })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MainLayout title='title.profile'>\r\n      <Grid container>\r\n        <Grid item md={6} xs={12}>\r\n          {\r\n            user &&\r\n            <form className={classes.form} onSubmit={onSubmitProfile}>\r\n              <TextInput\r\n                required\r\n                label=\"input.name\"\r\n                value={profileData?.name}\r\n                variant='outlined'\r\n                onChange={name => setProfileData({ ...profileData, name })}\r\n              />\r\n\r\n              <TextInput\r\n                required\r\n                label=\"input.email\"\r\n                value={profileData?.email}\r\n                variant='outlined'\r\n                type=\"email\"\r\n                onChange={email => setProfileData({ ...profileData, email })}\r\n              />\r\n              {\r\n                error.profile &&\r\n                <Alert severity='error' className={classes.alert}>\r\n                  <FormattedMessage id='error.update_profile' />\r\n                </Alert>\r\n              }\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={loading.profile}\r\n              >\r\n                <FormattedMessage id={'btn.save'} />\r\n              </Button>\r\n\r\n            </form>\r\n          }\r\n        </Grid>\r\n        <Grid item md={6} xs={12}>\r\n          {\r\n            user &&\r\n            <form className={classes.form} onSubmit={onSubmitPassword}>\r\n\r\n              <TextInput\r\n                required\r\n                label=\"input.current_password\"\r\n                type=\"password\"\r\n                variant='outlined'\r\n                onChange={password => {\r\n                    setPasswordData({ ...passwordData, password });\r\n                    setError({...error, password: false})\r\n                  }\r\n                }\r\n              />\r\n\r\n              <TextInput\r\n                required\r\n                label=\"input.new_password\"\r\n                type=\"password\"\r\n                variant='outlined'\r\n                onChange={newPassword => {\r\n                  setPasswordData({ ...passwordData, newPassword });\r\n                  setError({...error, password: false})\r\n                }}\r\n              />\r\n              {\r\n                error.password &&\r\n                <Alert severity='error' className={classes.alert}>\r\n                  {error.password}\r\n                </Alert>\r\n              }\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={loading.password}\r\n              >\r\n                <FormattedMessage id={'btn.change_password'} />\r\n              </Button>\r\n            </form>\r\n          }\r\n        </Grid>\r\n      </Grid>\r\n    </MainLayout>\r\n  )\r\n}","import axios from 'axios';\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Container,\r\n  CssBaseline,\r\n  Input,\r\n  IconButton,\r\n  Grid\r\n} from '@mui/material';\r\nimport { makeStyles, styled } from '@mui/styles';\r\nimport { PhotoCamera } from '@mui/icons-material';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { MainLayout } from '../layouts'\r\n\r\nimport { TextInput, TextField } from '../components';\r\nimport { useState } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh',\r\n      background: 'url(\"images/bg/login.jpg\")'\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    },\r\n    form: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    imageInput: {\r\n      marginBottom: theme.spacing(2),\r\n      display: 'none'\r\n    },\r\n    image: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    imagePreview: {\r\n      width: '100px',\r\n      height: '100px'\r\n    }\r\n  }\r\n});\r\n\r\nexport default function Login(props) {\r\n  const classes = useStyles();\r\n\r\n  const [title, setTitle] = useState();\r\n  const [body, setBody] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n\r\n      formData.append('image', image, image.name);\r\n      formData.append('title', title);\r\n      formData.append('body', body);\r\n\r\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/posts`, formData);\r\n\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      setHasError(true);\r\n      setErrors(error.response.data.errors);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const imageChangeHandler = (e) => {\r\n    setFile(URL.createObjectURL(e.target.files[0]));\r\n    setImage(e.target.files[0]);\r\n  }\r\n\r\n  const titleChangeHandler = (value) => {\r\n    setTitle(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  const bodyChangeHandler = (value) => {\r\n    setBody(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <CssBaseline />\r\n      <Container sx={{ width: '50%', alignItems: 'center', paddingTop: 2}}>\r\n        <Typography component='h1' variant='h4'>\r\n          <FormattedMessage id={'title.addPost'} />\r\n        </Typography>\r\n        {\r\n          hasError && (\r\n            <Box marginTop={2}>\r\n\r\n              <Alert severity='error'>\r\n                <br />\r\n                {\r\n                  errors.map(e => (\r\n                    <li>\r\n                      {e}\r\n                    </li>\r\n                  ))\r\n                }\r\n              </Alert>\r\n            </Box>\r\n          )\r\n        }\r\n\r\n        <form onSubmit={onSubmit} className={classes.form}>\r\n          <TextInput\r\n            required\r\n            Component='TextInput'\r\n            label='post.title'\r\n            type='text'\r\n            onChange={titleChangeHandler}\r\n          />\r\n\r\n          <TextField\r\n            required\r\n            label='post.body'\r\n            multiline\r\n            rows={4}\r\n            onChange={bodyChangeHandler}\r\n          />\r\n\r\n          <Grid container spacing={2} >\r\n            <Grid item xs={6}>\r\n              <label htmlFor=\"icon-button-file\">\r\n                <Input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" sx={{ display: 'none' }} onChange={imageChangeHandler} />\r\n                <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                  <PhotoCamera fontSize='large'/>\r\n                </IconButton>\r\n                <FormattedMessage id='post.image' />\r\n              </label>\r\n            </Grid>\r\n\r\n            <Grid item xs={4}>\r\n              <img src={file} className={classes.imagePreview} />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Button\r\n            type='submit'\r\n            variant='contained'\r\n            color='primary'\r\n            fullWidth\r\n            sx={{marginTop: 2}}\r\n            disabled={loading}\r\n          >\r\n            <FormattedMessage id={'btn.send'} />\r\n          </Button>\r\n        </form>\r\n      </Container>\r\n    </MainLayout>\r\n  )\r\n}\r\n","import { useState } from 'react';\r\nimport { Button, CircularProgress, Grid, Typography, Box } from '@mui/material';\r\nimport { Add } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport { MainLayout } from '../layouts'\r\nimport { useEffect } from 'react';\r\nimport { Post, NoPost } from '../components';\r\nimport Auth from '../Auth';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nexport default function Home() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Auth.init();\r\n    init();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  }, [loading]);\r\n\r\n  const init = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts/me`);\r\n\r\n      setPosts(result.data.posts)\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  const render = loading\r\n    ? <CircularProgress />\r\n    : (\r\n      <MainLayout>\r\n        {\r\n          posts.length > 0\r\n            ?\r\n            <Grid container spacing={2}>\r\n              {\r\n                posts.map(p => (\r\n                  <Grid item xs={4} key={p.img}>\r\n                    <Post title={p.title} image={p.image} body={p.body} postId={p._id} />\r\n                  </Grid>\r\n                ))\r\n              }\r\n            </Grid>\r\n            :\r\n            <NoPost message='post.profileNoPosts'/>\r\n        }\r\n      </MainLayout>\r\n    )\r\n\r\n  return render;\r\n}","import axios from \"axios\";\r\n\r\nconst postsHooks = () => {\r\n  const getPosts = async () => {\r\n    try {\r\n      const response = await axios();\r\n      const data =  await response.data;\r\n\r\n      if (!data.status) {\r\n        return false;\r\n      }\r\n\r\n      return [null, data.posts];\r\n    } catch (error) {\r\n      return [error, null];\r\n    }\r\n  }\r\n\r\n  const getPost = async (postId) => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`);\r\n      const data =  await response.data;\r\n\r\n      return [data.post, null];\r\n    } catch (error) {\r\n      return [null, error];\r\n    }\r\n  }\r\n\r\n  const updatePost = async (postId, data) => {\r\n    try {\r\n      const result = await axios.patch(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}/update`, data);\r\n\r\n      return [result, null];\r\n    } catch (error) {\r\n      return [null, error.response.data.errors];\r\n    }\r\n  }\r\n\r\n  const deletePost = async (postId) => {\r\n    try {\r\n      const result = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`);\r\n\r\n      return [result, null];\r\n    } catch (error) {\r\n      console.log('error =>>', error.response.data.errors)\r\n      return [null, error.response.data.errors];\r\n    }\r\n  }\r\n\r\n  const likePost = async (postId) => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}/like`);\r\n      const data =  await response.data;\r\n\r\n      return [data.post, null];\r\n    } catch (error) {\r\n      return [null, error];\r\n    }\r\n  }\r\n\r\n  return {\r\n    getPosts,\r\n    getPost,\r\n    updatePost,\r\n    likePost,\r\n    deletePost\r\n  }\r\n}\r\n\r\nexport default postsHooks;","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Typography,\r\n  Box,\r\n  Container,\r\n  IconButton,\r\n  Paper,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardMedia,\r\n  CardActions\r\n} from '@mui/material';\r\nimport { pink } from '@mui/material/colors';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { Alert } from '@material-ui/lab';\r\nimport Auth from '../Auth';\r\nimport { ThumbUp, ThumbUpOutlined, Edit, Delete } from '@mui/icons-material';\r\nimport { FormattedMessage, useIntl } from 'react-intl';\r\nimport { MainLayout } from '../layouts'\r\nimport { AlertDialog } from '../components';\r\nimport { useState } from 'react';\r\nimport postHooks from '../hooks/postsHooks';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh',\r\n      background: 'url(\"images/bg/login.jpg\")'\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    },\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n      width: '60%'\r\n    },\r\n    imageInput: {\r\n      marginBottom: theme.spacing(2),\r\n      display: 'none'\r\n    },\r\n    image: {\r\n      marginBottom: theme.spacing(2),\r\n      width: '450px',\r\n      height: '450px'\r\n    }\r\n  }\r\n});\r\n\r\nexport default function EditPost(props) {\r\n  const postId = props.match.params.id;\r\n  const editUrl = `/posts/${postId}/edit`;\r\n  const classes = useStyles();\r\n  const { formatMessage } = useIntl();\r\n\r\n  const { getPost, updatePost, likePost, deletePost } = postHooks();\r\n  const [title, setTitle] = useState();\r\n  const [numberOfLikes, setNumberOfLikes] = useState(0);\r\n  const [userId, setUserId] = useState(null);\r\n  const [body, setBody] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [liked, setLiked] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    Auth.init();\r\n    (async () => {\r\n      setLoading(true);\r\n      const [post, error] = await getPost(postId);\r\n      console.log(post);\r\n      if (error) {\r\n        setLoading(false);\r\n        props.history.push('/');\r\n        return;\r\n      }\r\n\r\n      setLoading(false);\r\n      setTitle(post.title);\r\n      setBody(post.body);\r\n      setNumberOfLikes(post.numberOfLikes);\r\n      setUserId(post.user);\r\n      setLiked(post.liked);\r\n      setFile(`${process.env.REACT_APP_IMAGE_URL}/${post.image}`)\r\n    })();\r\n\r\n  }, []);\r\n\r\n\r\n  const handleLikeClick = async () => {\r\n    const [post, error] = await likePost(postId);\r\n    if (error) {\r\n      return;\r\n    }\r\n\r\n    setNumberOfLikes(post.numberOfLikes);\r\n    setLiked(post.liked);\r\n  }\r\n\r\n  const handleDeleteClick = async () => {\r\n    const [_, error] = await deletePost(postId);\r\n    if (error) {\r\n      setOpen(false);\r\n      setHasError(true);\r\n      setErrors(error);\r\n      return;\r\n    }\r\n\r\n    props.history.push('/me');\r\n  }\r\n\r\n  const handleClickOpen = async () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = async () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <MainLayout loading={loading}>\r\n      <Container component=\"main\" maxWidth='md'>\r\n        <Paper className={classes.paper}>\r\n          {\r\n            hasError && (\r\n              <Box marginTop={2}>\r\n\r\n                <Alert severity='error'>\r\n                  <br />\r\n                  {\r\n                    errors.map(e => (\r\n                      <li>\r\n                        {e}\r\n                      </li>\r\n                    ))\r\n                  }\r\n                </Alert>\r\n              </Box>\r\n            )\r\n          }\r\n\r\n          <Card>\r\n            <CardHeader\r\n              title={title}\r\n            />\r\n\r\n            <CardMedia sx={{ marginY: 2, padding: 1 }}>\r\n              <img src={file} className={classes.image} />\r\n            </CardMedia>\r\n\r\n            <CardContent sx={{ marginY: 2, padding: 1 }}>\r\n              <Typography variant='h5'>\r\n                {body}\r\n              </Typography>\r\n            </CardContent>\r\n\r\n            <CardActions sx={{justifyContent: 'center'}}>\r\n              {\r\n                Auth.auth() && Auth.getUser()._id == userId ? (\r\n                  <div>\r\n                    <IconButton aria-label=\"add to shopping cart\" href={editUrl}>\r\n                        <Edit sx={{ color: pink[500] }} />\r\n                    </IconButton>\r\n\r\n                    <IconButton aria-label=\"add to shopping cart\" onClick={handleClickOpen}>\r\n                        <Delete sx={{ color: pink[500] }}/>\r\n                    </IconButton>\r\n\r\n                    <AlertDialog\r\n                      title={formatMessage({ id: 'post.delete.title' })}\r\n                      body={formatMessage({ id: 'post.delete.body' })}\r\n                      open={open}\r\n                      handleAgree={handleDeleteClick}\r\n                      handleClose={handleClose}\r\n                    />\r\n                  </div>\r\n                ) : ''\r\n              }\r\n              {numberOfLikes || 0}\r\n              <IconButton color=\"primary\" aria-label=\"add to shopping cart\" onClick={handleLikeClick}>\r\n                {\r\n                  liked ? <ThumbUp /> : <ThumbUpOutlined />\r\n                }\r\n              </IconButton>\r\n            </CardActions>\r\n          </Card>\r\n        </Paper>\r\n      </Container>\r\n    </MainLayout>\r\n  )\r\n}\r\n","import { useEffect } from 'react';\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Container,\r\n  CssBaseline,\r\n  Input,\r\n  Paper,\r\n  IconButton,\r\n  Grid\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { PhotoCamera } from '@mui/icons-material';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { MainLayout } from '../layouts'\r\n\r\nimport { TextInput, TextField } from '../components';\r\nimport { useState } from 'react';\r\nimport postHooks from '../hooks/postsHooks';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      minHeight: '100vh',\r\n      background: 'url(\"images/bg/login.jpg\")'\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    },\r\n    form: {\r\n      marginTop: theme.spacing(2),\r\n      width: '60%'\r\n    },\r\n    imageInput: {\r\n      marginBottom: theme.spacing(2),\r\n      display: 'none'\r\n    },\r\n    image: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    imagePreview: {\r\n      width: '100px',\r\n      height: '100px'\r\n    }\r\n  }\r\n});\r\n\r\nexport default function EditPost(props) {\r\n  const postId = props.match.params.id;\r\n  const classes = useStyles();\r\n\r\n  const { getPost, updatePost } = postHooks();\r\n  const [title, setTitle] = useState();\r\n  const [body, setBody] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const [post, error] = await getPost(postId);\r\n      if (error) {\r\n        props.history.push('/');\r\n        return;\r\n      }\r\n\r\n      setTitle(post.title);\r\n      setBody(post.body);\r\n      setFile(`${process.env.REACT_APP_IMAGE_URL}/${post.image}`)\r\n    })();\r\n\r\n  }, []);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    if (image) {\r\n      formData.append('image', image, image.name);\r\n    }\r\n\r\n    formData.append('title', title);\r\n    formData.append('body', body);\r\n\r\n    setLoading(true);\r\n    const [_, errors] = await updatePost(postId, formData);\r\n    setLoading(false);\r\n\r\n    if (errors) {\r\n      setHasError(true);\r\n      setErrors(errors);\r\n    } else {\r\n      props.history.push('/');\r\n    }\r\n  }\r\n\r\n  const imageChangeHandler = (e) => {\r\n    setFile(URL.createObjectURL(e.target.files[0]));\r\n    setImage(e.target.files[0]);\r\n  }\r\n\r\n  const titleChangeHandler = (value) => {\r\n    setTitle(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  const bodyChangeHandler = (value) => {\r\n    setBody(value);\r\n    setErrors([]);\r\n    setHasError(false)\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <Container component=\"main\" maxWidth='md'>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Typography component='h1' variant='h4'>\r\n            <FormattedMessage id={'post.edit'} />\r\n          </Typography>\r\n          {\r\n            hasError && (\r\n              <Box marginTop={2}>\r\n\r\n                <Alert severity='error'>\r\n                  <br />\r\n                  {\r\n                    errors.map(e => (\r\n                      <li>\r\n                        {e}\r\n                      </li>\r\n                    ))\r\n                  }\r\n                </Alert>\r\n              </Box>\r\n            )\r\n          }\r\n\r\n          <form className={classes.form} onSubmit={onSubmit}>\r\n            <TextInput\r\n              required\r\n              Component='TextInput'\r\n              label='post.title'\r\n              type='text'\r\n              value={title}\r\n              onChange={titleChangeHandler}\r\n            />\r\n\r\n            <div>\r\n              <TextField\r\n                required\r\n                label='post.body'\r\n                multiline\r\n                rows={4}\r\n                value={body}\r\n                onChange={bodyChangeHandler}\r\n              />\r\n            </div>\r\n\r\n            <Grid container spacing={2} className={classes.image}>\r\n              <Grid item xs={6}>\r\n                <label htmlFor=\"icon-button-file\">\r\n                  <Input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" sx={{ display: 'none' }} onChange={imageChangeHandler} />\r\n                  <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                    <PhotoCamera />\r\n                    <FormattedMessage id='post.image' />\r\n                  </IconButton>\r\n                </label>\r\n              </Grid>\r\n\r\n              <Grid item xs={4}>\r\n                <img src={file} className={classes.imagePreview} />\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Button\r\n              type='submit'\r\n              variant='contained'\r\n              color='primary'\r\n              disabled={loading}\r\n              fullWidth\r\n              sx={{ marginTop: 2 }}\r\n            >\r\n              <FormattedMessage id={'btn.edit'} />\r\n            </Button>\r\n          </form>\r\n        </Paper>\r\n      </Container>\r\n    </MainLayout>\r\n  )\r\n}\r\n","import './App.css';\nimport { useEffect } from 'react';\nimport Auth from './Auth';\nimport AppRoute from './AppRoute';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { Login, Home, Register, Profile, AddPost, MyPosts, ViewPost, EditPost } from './screens';\n\nfunction App() {\n\n  useEffect(() => {\n    Auth.init();\n  }, [])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <AppRoute exact path=\"/\" component={Home} />\n          <AppRoute exact path=\"/posts/add\" component={AddPost} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/posts/:id/view\" component={ViewPost} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/posts/:id/edit\" component={EditPost} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/me\" component={MyPosts} can={Auth.auth} redirect='/login' />\n          <AppRoute exact path=\"/login\" component={Login} can={Auth.guest} redirect='/' />\n          <AppRoute exact path=\"/register\" component={Register} can={Auth.guest} redirect='/' />\n          <AppRoute exact path=\"/profile\" component={Profile} can={Auth.auth} redirect='/login' />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { IntlProvider } from 'react-intl';\nimport messages from './translations';\nimport RTL from './components/RTL';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from './theme';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <RTL>\n      <IntlProvider locale='ar' messages={messages['ar']}>\n        <React.StrictMode>\n          <App />\n        </React.StrictMode>\n      </IntlProvider>\n    </RTL>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}